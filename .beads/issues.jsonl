{"id":"letta-webhook-receiver-new-quk","title":"Graphiti retrieval optimization (1-5)","description":"Implement retrieval improvements in webhook receiver: get-memory facts, cached node search, episode_mentions reranker, cross-encoder secondary pass, and entity-centered two-stage retrieval.","acceptance_criteria":"All 5 optimization tasks completed with rollback flags and live verification in webhook logs.","status":"open","priority":1,"issue_type":"epic","owner":"noreply@anthropic.com","created_at":"2026-02-07T12:05:57.057454875-05:00","created_by":"Claude Code","updated_at":"2026-02-07T12:05:57.057454875-05:00","labels":["graphiti","retrieval","webhook"]}
{"id":"letta-webhook-receiver-new-quk.1","title":"Use /get-memory as primary fact source","description":"Replace fact retrieval from /search with /get-memory in app.py. Keep legacy /search fallback on error or empty result. Use cleaned prompt -\u003e Message payload conversion.","acceptance_criteria":"Webhook logs show /get-memory calls; fact context renders correctly; fallback to /search works when /get-memory fails.","status":"open","priority":1,"issue_type":"task","owner":"noreply@anthropic.com","created_at":"2026-02-07T12:05:57.113225344-05:00","created_by":"Claude Code","updated_at":"2026-02-07T12:05:57.113225344-05:00","labels":["facts","graphiti","retrieval"],"dependencies":[{"issue_id":"letta-webhook-receiver-new-quk.1","depends_on_id":"letta-webhook-receiver-new-quk","type":"parent-child","created_at":"2026-02-07T12:05:57.115357934-05:00","created_by":"Claude Code"}]}
{"id":"letta-webhook-receiver-new-quk.2","title":"Switch node retrieval to /cached/search/nodes","description":"Move node retrieval endpoint from /search/nodes to /cached/search/nodes and preserve existing node formatting. Track cache behavior via /cached/cache/metrics.","acceptance_criteria":"Node retrieval succeeds via cached endpoint and cache miss/hit counters change during repeated queries.","status":"open","priority":1,"issue_type":"task","owner":"noreply@anthropic.com","created_at":"2026-02-07T12:05:57.181366765-05:00","created_by":"Claude Code","updated_at":"2026-02-07T12:05:57.181366765-05:00","labels":["cache","graphiti","nodes"],"dependencies":[{"issue_id":"letta-webhook-receiver-new-quk.2","depends_on_id":"letta-webhook-receiver-new-quk","type":"parent-child","created_at":"2026-02-07T12:05:57.184192-05:00","created_by":"Claude Code"}]}
{"id":"letta-webhook-receiver-new-quk.3","title":"Use episode_mentions reranker for node search","description":"Update node SearchConfig reranker from rrf to episode_mentions while keeping current search methods and safety fallbacks.","acceptance_criteria":"Node request payload includes reranker=episode_mentions and retrieval quality is validated on conversational prompts.","status":"open","priority":1,"issue_type":"task","owner":"noreply@anthropic.com","created_at":"2026-02-07T12:05:57.248916062-05:00","created_by":"Claude Code","updated_at":"2026-02-07T12:05:57.248916062-05:00","labels":["graphiti","nodes","reranking"],"dependencies":[{"issue_id":"letta-webhook-receiver-new-quk.3","depends_on_id":"letta-webhook-receiver-new-quk","type":"parent-child","created_at":"2026-02-07T12:05:57.25119557-05:00","created_by":"Claude Code"}]}
{"id":"letta-webhook-receiver-new-quk.4","title":"Add cross-encoder secondary fact pass","description":"Introduce optional secondary /cached/search call using reranker=cross_encoder when primary facts are sparse or prompt complexity is high. Merge unique facts with primary set.","acceptance_criteria":"Feature-flagged secondary pass works, deduplicates facts, and can be disabled without code changes.","status":"closed","priority":2,"issue_type":"task","owner":"noreply@anthropic.com","created_at":"2026-02-07T12:05:57.315290587-05:00","created_by":"Claude Code","updated_at":"2026-02-07T12:25:10.55902409-05:00","closed_at":"2026-02-07T12:25:10.55902409-05:00","close_reason":"Cancelled: /get-memory Python endpoint already performs reranking; secondary cross-encoder pass is redundant.","labels":["cross-encoder","facts","graphiti"],"dependencies":[{"issue_id":"letta-webhook-receiver-new-quk.4","depends_on_id":"letta-webhook-receiver-new-quk","type":"parent-child","created_at":"2026-02-07T12:05:57.317974384-05:00","created_by":"Claude Code"}]}
{"id":"letta-webhook-receiver-new-quk.5","title":"Implement entity-focused two-stage node retrieval","description":"Detect candidate entities in cleaned prompt, resolve candidate node UUID, then run centered node search with center_node_uuid. Merge/dedupe with baseline nodes.","acceptance_criteria":"Entity-centric prompts produce centered neighborhood nodes; non-entity prompts follow baseline path without regressions.","status":"open","priority":2,"issue_type":"task","owner":"noreply@anthropic.com","created_at":"2026-02-07T12:05:57.375699164-05:00","created_by":"Claude Code","updated_at":"2026-02-07T12:05:57.375699164-05:00","labels":["entity-search","graphiti","nodes"],"dependencies":[{"issue_id":"letta-webhook-receiver-new-quk.5","depends_on_id":"letta-webhook-receiver-new-quk","type":"parent-child","created_at":"2026-02-07T12:05:57.377900224-05:00","created_by":"Claude Code"}]}
